<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Show More Grid</title>
  <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="p-6">

<div 
  x-data="showMore(8)" 
  class="max-w-3xl mx-auto"
>
  <!-- GRID -->
  <div class="grid grid-cols-2 gap-4">
    <div class="border p-4 text-center">Item 1</div>
    <div class="border p-4 text-center">Item 2</div>
    <div class="border p-4 text-center">Item 3</div>
    <div class="border p-4 text-center">Item 4</div>
    <div class="border p-4 text-center">Item 5</div>
    <div class="border p-4 text-center">Item 6</div>
    <div class="border p-4 text-center">Item 7</div>
    <div class="border p-4 text-center">Item 8</div>
    <div class="border p-4 text-center">Item 9</div>
    <div class="border p-4 text-center">Item 10</div>
    <div class="border p-4 text-center">Item 11</div>
    <div class="border p-4 text-center">Item 12</div>
    <div class="border p-4 text-center">Item 13</div>
    <div class="border p-4 text-center">Item 14</div>
  </div>

  <!-- BUTTON -->
  <div class="mt-6 text-center">
    <button 
      @click="toggle()" 
      x-text="buttonText"
      class="px-4 py-2 bg-gray-200 rounded"
    ></button>
  </div>
</div>

<script>
function showMore(step = 8) {
  return {
    step,
    visible: step,
    items: [],
    buttonText: "Показать еще новости",

    init() {
      // faqat shu komponent ichidagi grid elementlarini olamiz
      this.items = this.$el.querySelectorAll(".grid > div");
      this.update();
    },

    update() {
      this.items.forEach((el, i) => {
        el.style.display = i < this.visible ? "block" : "none";
      });

      if (this.visible < this.items.length) {
        this.buttonText = "Показать еще новости";
      } else {
        this.buttonText = "Скрыть новости";
      }
    },

    toggle() {
      if (this.visible < this.items.length) {
        this.visible += this.step;
      } else {
        this.visible = this.step;
      }
      this.update();
    }
  }
}
</script>

</body>
</html>
